/**
 * Langue highlighter engine
 *
 * @author      Daniels Kursits <https://github.com/evolbug>
 * @copyright   Copyright (c) 2018 Daniels Kursits <https://github.com/evolbug/langue>
 * @license     http://opensource.org/licenses/MIT MIT License
 */
langue=function(){function e(e){return e.replace(new RegExp("[.*+?^${}()|[\\]\\\\]","gm"),"\\$&")}function t(e){return e.replace(new RegExp("&","gm"),"&amp;").replace(new RegExp("<","gm"),"&lt;").replace(new RegExp(">","gm"),"&gt;").replace(new RegExp('"',"gm"),"&quot;").replace(new RegExp("'","gm"),"&#039;")}function n(e,t){let n=new RegExp("("+t+")");return(l,r=0,a="ym")=>{if(a){let n=new RegExp("(\\s*"+t+"\\s*)",a);n.lastIndex=r;let s=n.exec(l);return s?{class:e,value:s[1],index:s.index}:false}else{let t=n.exec(l.substr(r));return t?{class:e,value:t[1],index:t.index+r}:false}}}function l(e,...t){let l=e.reduce((e,n,l)=>`${e}${n}${t[l]?t[l]:""}`,"");return n("special",l)}function r(e,...t){let l=e.reduce((e,n,l)=>`${e}${n}${t[l]?t[l]:""}`,"");return n("punctuation",l)}function a(e,...t){let l=e.reduce((e,n,l)=>`${e}${n}${t[l]?t[l]:""}`,"");return n("keyword",l)}function s(t,...l){let r=t.reduce((e,t,n)=>`${e}${t}${l[n]?l[n]:""}`,"");return n("string",r.split("|").map(e=>e.trim()).map(t=>{t=t.split(",").map(t=>e(t.trim()));return`(?:${t[0]}(?:\\\\\\\\|\\\\${t[1]}|.|\\s)*?${t[1]})`}).join("|"))}function u(t,...l){let r=t.reduce((e,t,n)=>`${e}${t}${l[n]?l[n]:""}`,"");return n("comment",r.split("|").map(e=>e.trim()).map(t=>{t=t.split(",").map(t=>e(t.trim()));return`(?:${t[0]}(?:.|\\s)*?${t[1]})`}).join("|"))}function c(e,...t){let l=e.reduce((e,n,l)=>`${e}${n}${t[l]?t[l]:""}`,"");return n("",l)}function i(e,t,n=0){let l={matches:[],lastIndex:n};let r=n;for(let n=0;n<t.length;n++){let a=t[n];if(Array.isArray(a)){let t=i(e,a,l.lastIndex);while(t&&t.lastIndex>r){r=t.lastIndex;l.matches=l.matches.concat(t.matches);l.lastIndex=t.lastIndex;t=i(e,a,l.lastIndex)}}else{let t=a(e,l.lastIndex);if(!t)return false;l.lastIndex=t.index+t.value.length;l.matches.push(t)}}return l}function p(e){return function(n){let l=true;let r=[];let a=0;let s=-1;while(l&&a>s){let t=[];l=false;s=a;for(let r=0;r<e.length;r++){let s=e[r][0](n,a,false);if(s){l=true;t.push({pattern:r,match:s})}}t=t.sort((e,t)=>e.match.index-t.match.index);for(let l of t){let t=i(n,e[l.pattern],l.match.index);if(t){a=t.lastIndex;r=r.concat(t.matches);break}}}let u=[];let c=0;for(let e=0;e<r.length;e++){u.push(t(n.slice(c,r[e].index)));u.push(`<span class='${r[e].class}'>${t(r[e].value)}</span>`);c=r[e].index+r[e].value.length}u.push(t(n.slice(c)));return u.join("")}}function o(e,t){if(o.languages[t]){return o.languages[t](e)}else{console.error(`requested language ${t} is not defined`);return e}}o.auto=function(e){if(e.className)e.innerHTML=o(e.innerText,e.className.match(/language-(\w+)/)[1])};o.languages={};o.syntax={};return o}();
